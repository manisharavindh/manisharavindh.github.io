<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simply CNN</title>
    <link rel="stylesheet" href="style.css">
    <link rel="shortcut icon" href="../assets/img/favicon.ico" type="image/x-icon">
</head>
<body>
    <div class="wrapper">
        <header>
            <a href="/" class="page-links a-super">[Simply CNN]</a>
        </header>
        <main>
            <p class="subtitle">-> upload an image to make predictions</p>
            <div class="file-input">
                <input type="file" id="fileInput" accept="image/*" style="display: none;">
                <button type="button" class="file-button" onclick="document.getElementById('fileInput').click()">
                    Browse
                </button>
                <span class="file-name" id="fileName">No file selected</span>
            </div>
            <div class="preview-container">
                <img id="preview" class="preview-image" alt="Preview">
            </div>
            <div class="btns">
                <button id="predictBtn" class="btn" disabled>predict</button>
                <button id="clearBtn" class="btn">clear</button>
            </div>
            <div id="status" class="status" style="display: none;"></div>
            <div id="result" class="result">
                <h3>-> prediction: <span id="predictions">...</span></h3>
            </div>
        </main>
    </div>

    <script>

        // handle file input
        document.getElementById('fileInput').addEventListener('change', function(e) {
            const fileName = e.target.files[0]?.name || 'No file selected';
            document.getElementById('fileName').textContent = fileName;
        });

        // handle img preview
        document.getElementById('fileInput').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(event) {   
                    const imgElement = document.getElementById('preview');
                    imgElement.src = event.target.result;
                };
                reader.readAsDataURL(file);
            }
        });
    </script>
</body>
</html>